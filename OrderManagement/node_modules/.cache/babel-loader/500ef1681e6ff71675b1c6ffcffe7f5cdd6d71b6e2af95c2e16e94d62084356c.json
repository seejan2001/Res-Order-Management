{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nexport const Enums = Object.freeze({\n  IDLE: \"idle\",\n  LOADING: \"Loading\",\n  ERROR: \"error\"\n});\nconst foodslice = createSlice({\n  name: \"food\",\n  initialState: {\n    data: [],\n    status: Enums.IDLE,\n    cart_data: []\n  },\n  reducers: {\n    setStatus(state, action) {\n      state.status = action.payload;\n    },\n    fetchProduct(state, action) {\n      state.data = action.payload;\n    },\n    addInsideCart(state, action) {\n      console.log(action.payload);\n      state.cart_data.map(item => {\n        if (item.id === action.payload.id) {\n          const quantity = {\n            quantity: 1\n          };\n          state.cart_data.push(...cart_data, quantity);\n        }\n      });\n      state.cart_data.push(action.payload);\n    },\n    removeInsideCart(state, action) {\n      console.log(state.cart_data);\n    }\n  }\n});\nexport const {\n  setStatus,\n  fetchProduct,\n  addInsideCart,\n  removeInsideCart\n} = foodslice.actions;\nexport default foodslice.reducer;\n\n//Thunk middleWare\nexport function fetchData() {\n  return async function fetchDataFromApi(dispatch, getState) {\n    dispatch(setStatus(Enums.LOADING));\n    try {\n      const response = await axios.get(\"http://localhost:8081/foodList\");\n      dispatch(fetchProduct(response.data));\n      dispatch(setStatus(Enums.IDLE));\n    } catch (err) {\n      console.log(err);\n      dispatch(setStatus(Enums.ERROR));\n    }\n  };\n}\n\n// export function setToCart(action) {\n//   dispatch(addInsideCart(action));\n// }","map":{"version":3,"names":["createSlice","axios","Enums","Object","freeze","IDLE","LOADING","ERROR","foodslice","name","initialState","data","status","cart_data","reducers","setStatus","state","action","payload","fetchProduct","addInsideCart","console","log","map","item","id","quantity","push","removeInsideCart","actions","reducer","fetchData","fetchDataFromApi","dispatch","getState","response","get","err"],"sources":["D:/OrderManagement/src/app/foodslice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nexport const Enums = Object.freeze({\r\n  IDLE: \"idle\",\r\n  LOADING: \"Loading\",\r\n  ERROR: \"error\",\r\n});\r\n\r\nconst foodslice = createSlice({\r\n  name: \"food\",\r\n  initialState: {\r\n    data: [],\r\n    status: Enums.IDLE,\r\n    cart_data: [],\r\n  },\r\n  reducers: {\r\n    setStatus(state, action) {\r\n      state.status = action.payload;\r\n    },\r\n    fetchProduct(state, action) {\r\n      state.data = action.payload;\r\n    },\r\n    addInsideCart(state, action) {\r\n      console.log(action.payload);\r\n      state.cart_data.map((item) => {\r\n        if (item.id === action.payload.id) {\r\n          const quantity = { quantity: 1 };\r\n          state.cart_data.push(...cart_data, quantity);\r\n        }\r\n      });\r\n      state.cart_data.push(action.payload);\r\n    },\r\n    removeInsideCart(state, action) {\r\n      console.log(state.cart_data);\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setStatus, fetchProduct, addInsideCart, removeInsideCart } =\r\n  foodslice.actions;\r\nexport default foodslice.reducer;\r\n\r\n//Thunk middleWare\r\nexport function fetchData() {\r\n  return async function fetchDataFromApi(dispatch, getState) {\r\n    dispatch(setStatus(Enums.LOADING));\r\n    try {\r\n      const response = await axios.get(\"http://localhost:8081/foodList\");\r\n\r\n      dispatch(fetchProduct(response.data));\r\n      dispatch(setStatus(Enums.IDLE));\r\n    } catch (err) {\r\n      console.log(err);\r\n      dispatch(setStatus(Enums.ERROR));\r\n    }\r\n  };\r\n}\r\n\r\n// export function setToCart(action) {\r\n//   dispatch(addInsideCart(action));\r\n// }\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,KAAK,GAAGC,MAAM,CAACC,MAAM,CAAC;EACjCC,IAAI,EAAE,MAAM;EACZC,OAAO,EAAE,SAAS;EAClBC,KAAK,EAAE;AACT,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAGR,WAAW,CAAC;EAC5BS,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IACZC,IAAI,EAAE,EAAE;IACRC,MAAM,EAAEV,KAAK,CAACG,IAAI;IAClBQ,SAAS,EAAE;EACb,CAAC;EACDC,QAAQ,EAAE;IACRC,SAASA,CAACC,KAAK,EAAEC,MAAM,EAAE;MACvBD,KAAK,CAACJ,MAAM,GAAGK,MAAM,CAACC,OAAO;IAC/B,CAAC;IACDC,YAAYA,CAACH,KAAK,EAAEC,MAAM,EAAE;MAC1BD,KAAK,CAACL,IAAI,GAAGM,MAAM,CAACC,OAAO;IAC7B,CAAC;IACDE,aAAaA,CAACJ,KAAK,EAAEC,MAAM,EAAE;MAC3BI,OAAO,CAACC,GAAG,CAACL,MAAM,CAACC,OAAO,CAAC;MAC3BF,KAAK,CAACH,SAAS,CAACU,GAAG,CAAEC,IAAI,IAAK;QAC5B,IAAIA,IAAI,CAACC,EAAE,KAAKR,MAAM,CAACC,OAAO,CAACO,EAAE,EAAE;UACjC,MAAMC,QAAQ,GAAG;YAAEA,QAAQ,EAAE;UAAE,CAAC;UAChCV,KAAK,CAACH,SAAS,CAACc,IAAI,CAAC,GAAGd,SAAS,EAAEa,QAAQ,CAAC;QAC9C;MACF,CAAC,CAAC;MACFV,KAAK,CAACH,SAAS,CAACc,IAAI,CAACV,MAAM,CAACC,OAAO,CAAC;IACtC,CAAC;IACDU,gBAAgBA,CAACZ,KAAK,EAAEC,MAAM,EAAE;MAC9BI,OAAO,CAACC,GAAG,CAACN,KAAK,CAACH,SAAS,CAAC;IAC9B;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEE,SAAS;EAAEI,YAAY;EAAEC,aAAa;EAAEQ;AAAiB,CAAC,GACvEpB,SAAS,CAACqB,OAAO;AACnB,eAAerB,SAAS,CAACsB,OAAO;;AAEhC;AACA,OAAO,SAASC,SAASA,CAAA,EAAG;EAC1B,OAAO,eAAeC,gBAAgBA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;IACzDD,QAAQ,CAAClB,SAAS,CAACb,KAAK,CAACI,OAAO,CAAC,CAAC;IAClC,IAAI;MACF,MAAM6B,QAAQ,GAAG,MAAMlC,KAAK,CAACmC,GAAG,CAAC,gCAAgC,CAAC;MAElEH,QAAQ,CAACd,YAAY,CAACgB,QAAQ,CAACxB,IAAI,CAAC,CAAC;MACrCsB,QAAQ,CAAClB,SAAS,CAACb,KAAK,CAACG,IAAI,CAAC,CAAC;IACjC,CAAC,CAAC,OAAOgC,GAAG,EAAE;MACZhB,OAAO,CAACC,GAAG,CAACe,GAAG,CAAC;MAChBJ,QAAQ,CAAClB,SAAS,CAACb,KAAK,CAACK,KAAK,CAAC,CAAC;IAClC;EACF,CAAC;AACH;;AAEA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}